---
title: "Practical Machilne Learning Course Project"
author: "Jose Pablo Escobedo"
date: "December 12, 2015"
output: html_document
---

# Background

Using devices such as Jawbone Up, Nike FuelBand, and Fitbit it is now possible to collect a large amount of data about personal activity relatively inexpensively. These type of devices are part of the quantified self movement to find patterns in their behavior, or because they are tech geeks. 
One thing that people regularly do is quantify how much of a particular activity they do, but they rarely quantify how well they do it. 
In this, we use data from accelerometers on the belt, forearm, arm, and dumbell of 6 participants. They were asked to perform barbell lifts correctly and incorrectly in 5 different ways. More information is available from the website [here](http://groupware.les.inf.puc-rio.br/har) (see the section on the Weight Lifting Exercise Dataset). 

# Data
The training data for this project are available here: 

[https://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv](https://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv)

The test data are available here: 

[https://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv](https://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv)

The data for this project come from this source: [http://groupware.les.inf.puc-rio.br/har](http://groupware.les.inf.puc-rio.br/har). 

# Goal

The goal of this project is to predict the manner in which  did the exercise.

# Data Analysis / Preprocessing


```{r}
setwd("C:/Users/jpablo/Work/projects/ML/courses/repo/practicalmachinelearning")
train <- read.csv("pml-training.csv", header=T, sep=",");
dim(train);
```

By taking a look at the dataset, we can make the following comments and perform some cleanning on the dataset:

* There is a lack of information about the features. This would greatly help the analysis.

* There seems to be a boolean feature, `new window`, which most of the time is `false`. In this case, several features (67 out of 160) are `NA`. The few times it is `true` (406 out of 19622), these other features have some values. Since at a first glance this feature does not has a great impact in predicting the type of activity, we can remove all the features which have `NA` values.

```{r}
length(colnames(train)[colSums(is.na(train)) > dim(train)[1]/2]);
train <- train[colSums(is.na(train)) <= dim(train)[1]/2];
```

* Timestamps are useless (in this case) to predict the type of activity. We can remove such features.

```{r}
train <- subset(train,select=-c(raw_timestamp_part_1,raw_timestamp_part_2,cvtd_timestamp))
```

* The first column is just an enumeration.

```{r}
train <- subset(train,select=-c(X))
```

* The `user name` is not useful to predict the type of activity (We will need to do the same preprocessing on the test set).

```{r}
train <- subset(train,select=-c(user_name))
```

* We can delete the features which have mostly blank values.

```{r}
train <- train[sapply(train, function(x) sum(x=="") <= dim(train)[1]/2)]
```

We now have a clean training set that we can use to train our predictor.

```{r}
dim(train)

```